(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{14:function(t,a,r){},15:function(t,a,r){},17:function(t,a,r){"use strict";r.r(a);var e=r(1),c=r.n(e),h=r(9),i=r.n(h),s=(r(14),r(3)),n=(r(15),r(4)),o=r(2),A=r(0),p=function(t){return Object(A.jsx)("button",{className:"square "+t.squareTypes[t.squareLoc]+" "+t.backgroundImage,onClick:function(){t.onClickFunction(t.onClickParameters)}})},u=r.p+"static/media/public_sound_standard_Move.e26d185c.mp3",l=r.p+"static/media/public_sound_standard_Capture.3871c59a.mp3",f="",b="",v=!1,k="",d="",g=[!0,!0],O=[!0,!0];function m(t){return String.fromCharCode(t.charCodeAt(0)+1)}function j(t){return String.fromCharCode(t.charCodeAt(0)-1)}function w(t){this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}var I={pawns:{a2:[],b2:[],c2:[],d2:[],e2:[],f2:[],g2:[],h2:[]},knights:{b1:[],g1:[]},bishops:{c1:[],f1:[]},rooks:{a1:[],h1:[]},queens:{d1:[]},king:{e1:[]}},x={pawns:{a7:[],b7:[],c7:[],d7:[],e7:[],f7:[],g7:[],h7:[]},knights:{b8:[],g8:[]},bishops:{c8:[],f8:[]},rooks:{a8:[],h8:[]},queens:{d8:[]},king:{e8:[]}},q=function(t){var a;switch(t){case"p":a="pawns";break;case"n":a="knights";break;case"b":a="bishops";break;case"r":a="rooks";break;case"q":a="queens";break;case"k":a="king";break;default:console.log("error: invalid letter")}return a},y=function(t){var a;switch(t){case"pawns":a="p";break;case"knights":a="n";break;case"bishops":a="b";break;case"rooks":a="r";break;case"queens":a="q";break;case"king":a="k";break;default:console.log("error: invalid piece type")}return a},P=function(t,a,r){var e={};for(var c in t[a])c!=r&&(e[c]=t[a].piece);var h=Object(o.a)({},t);return h[a]=e,h},C=function(t,a){var r=Object.keys(t.king)[0];for(var e in a)for(var c in a[e])if(a[e][c].includes(r))return!0;return!1},N=function(t,a){if(C(t,a)){for(var r in t)for(var e in t[r])if(t[r][e].length>0)return!1;return!0}return!1},S=function t(a,r,e,c,h){var i,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],A=JSON.parse(JSON.stringify(a));i="white"==e?"black":"white";var p,u=function(r,n,A,p){if(!s)return!1;var u=Object(o.a)({},a),l={};for(var f in a[r])f!=n?l[f]=a[r][f]:l[A]=[];u[r]=l;var b=Object(o.a)({},c);b[n]="",b[A]=e.charAt(0)+y(r);var v=t(p,u,i,b,h,!1);return C(u,v)};for(var l in a.pawns){if(p=[],"white"==e){"2"!=l.charAt(1)||""!=c[l.charAt(0)+"3"]||""!=c[l.charAt(0)+"4"]||u("pawns",l,l.charAt(0)+"4",r)||p.push(l.charAt(0)+"4"),""!=c[l.charAt(0)+(parseInt(l.charAt(1))+1)]||u("pawns",l,l.charAt(0)+(parseInt(l.charAt(1))+1),r)||p.push(l.charAt(0)+(parseInt(l.charAt(1))+1));var f=j(l.charAt(0))+(parseInt(l.charAt(1))+1);if("a"!=l.charAt(0)&&"b"==c[f].charAt(0)){var b=P(r,q(c[f].charAt(1)),f);u("pawns",l,f,b)||p.push(f)}var v=m(l.charAt(0))+(parseInt(l.charAt(1))+1);if("h"!=l.charAt(0)&&"b"==c[v].charAt(0)){var k=P(r,q(c[v].charAt(1)),v);u("pawns",l,v,k)||p.push(v)}if("5"==l.charAt(1)&&h.length>0){var d=h[h.length-1];"bp"==d.piece&&"7"==d.initialPos.charAt(1)&&"5"==d.destination.charAt(1)&&(j(l.charAt(0))==d.destination.charAt(0)?p.push("<-x"):m(l.charAt(0))==d.destination.charAt(0)&&p.push("x->"))}}else{"7"!=l.charAt(1)||""!=c[l.charAt(0)+"6"]||""!=c[l.charAt(0)+"5"]||u("pawns",l,l.charAt(0)+"5",r)||p.push(l.charAt(0)+"5"),""!=c[l.charAt(0)+(parseInt(l.charAt(1))-1)]||u("pawns",l,l.charAt(0)+(parseInt(l.charAt(1))-1),r)||p.push(l.charAt(0)+(parseInt(l.charAt(1))-1));var w=j(l.charAt(0))+(parseInt(l.charAt(1))-1);if("a"!=l.charAt(0)&&"w"==c[w].charAt(0)){var I=P(r,q(c[w].charAt(1)),w);u("pawns",l,w,I)||p.push(w)}var x=m(l.charAt(0))+(parseInt(l.charAt(1))-1);if("h"!=l.charAt(0)&&"w"==c[x].charAt(0)){var N=P(r,q(c[x].charAt(1)),x);u("pawns",l,x,N)||p.push(x)}if("4"==l.charAt(1)&&h.length>0){var S=h[h.length-1];"wp"==S.piece&&"2"==S.initialPos.charAt(1)&&"4"==S.destination.charAt(1)&&(j(l.charAt(0))==S.destination.charAt(0)?p.push("<-x"):m(l.charAt(0))==S.destination.charAt(0)&&p.push("x->"))}}A.pawns[l]=Object(n.a)(p)}for(var H in a.rooks){p=[];for(var M=!1,B=1;!M&&parseInt(H.charAt(1))+B<=8;){var E=H.charAt(0)+(parseInt(H.charAt(1))+B);if(""!=c[E]||u("rooks",H,E,r)){if(c[E].charAt(0)==e.charAt(0))M=!0;else if(""!=c[E]){var F=P(r,q(c[E].charAt(1)),E);u("rooks",H,E,F)||p.push(E),M=!0}}else p.push(E);B++}for(M=!1,B=-1;!M&&parseInt(H.charAt(1))+B>=1;){var Q=H.charAt(0)+(parseInt(H.charAt(1))+B);if(""!=c[Q]||u("rooks",H,Q,r)){if(c[Q].charAt(0)==e.charAt(0))M=!0;else if(""!=c[Q]){var R=P(r,q(c[Q].charAt(1)),Q);u("rooks",H,Q,R)||p.push(Q),M=!0}}else p.push(Q);B--}M=!1;for(var T=j(H.charAt(0));!M&&"a"!=H.charAt(0);){var _=T+parseInt(H.charAt(1));if(""!=c[_]||u("rooks",H,_,r)){if(c[_].charAt(0)==e.charAt(0))M=!0;else if(""!=c[_]){var L=P(r,q(c[_].charAt(1)),_);u("rooks",H,_,L)||p.push(_),M=!0}}else p.push(_);"a"==T?M=!0:T=j(T)}M=!1;for(var J=m(H.charAt(0));!M&&"h"!=H.charAt(0);){var K=J+parseInt(H.charAt(1));if(""!=c[K]||u("rooks",H,K,r)){if(c[K].charAt(0)==e.charAt(0))M=!0;else if(""!=c[K]){var D=P(r,q(c[K].charAt(1)),K);u("rooks",H,K,D)||p.push(K),M=!0}}else p.push(K);"h"==J?M=!0:J=m(J)}A.rooks[H]=Object(n.a)(p)}for(var U in a.bishops){p=[];for(var z=!1,G=1,V=m(U.charAt(0));!z&&parseInt(U.charAt(1))+G<=8&&"h"!=U.charAt(0);){var W=V+(parseInt(U.charAt(1))+G);if(""!=c[W]||u("bishops",U,W,r)){if(c[W].charAt(0)==e.charAt(0))z=!0;else if(""!=c[W]){var X=P(r,q(c[W].charAt(1)),W);u("bishops",U,W,X)||p.push(W),z=!0}}else p.push(W);"h"==V?z=!0:(G++,V=m(V))}z=!1,G=1;for(var Y=j(U.charAt(0));!z&&parseInt(U.charAt(1))+G<=8&&"a"!=U.charAt(0);){var Z=Y+(parseInt(U.charAt(1))+G);if(""!=c[Z]||u("bishops",U,Z,r)){if(c[Z].charAt(0)==e.charAt(0))z=!0;else if(""!=c[Z]){var $=P(r,q(c[Z].charAt(1)),Z);u("bishops",U,Z,$)||p.push(Z),z=!0}}else p.push(Z);"a"==Y?z=!0:(G++,Y=j(Y))}for(z=!1,G=-1,V=m(U.charAt(0));!z&&parseInt(U.charAt(1))+G>=1&&"h"!=U.charAt(0);){var tt=V+(parseInt(U.charAt(1))+G);if(""!=c[tt]||u("bishops",U,tt,r)){if(c[tt].charAt(0)==e.charAt(0))z=!0;else if(""!=c[tt]){var at=P(r,q(c[tt].charAt(1)),tt);u("bishops",U,tt,at)||p.push(tt),z=!0}}else p.push(tt);"h"==V?z=!0:(G--,V=m(V))}for(z=!1,G=-1,Y=j(U.charAt(0));!z&&parseInt(U.charAt(1))+G>=1&&"a"!=U.charAt(0);){var rt=Y+(parseInt(U.charAt(1))+G);if(""!=c[rt]||u("bishops",U,rt,r)){if(c[rt].charAt(0)==e.charAt(0))z=!0;else if(""!=c[rt]){var et=P(r,q(c[rt].charAt(1)),rt);u("bishops",U,rt,et)||p.push(rt),z=!0}}else p.push(rt);"a"==Y?z=!0:(G--,Y=j(Y))}A.bishops[U]=Object(n.a)(p)}for(var ct in a.knights){p=[];var ht=void 0;if(parseInt(ct.charAt(1))<7&&"h"!=ct.charAt(0))if(ht=m(ct.charAt(0))+(parseInt(ct.charAt(1))+2),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var it=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,it)||p.push(ht)}}else p.push(ht);if(parseInt(ct.charAt(1))<7&&"a"!=ct.charAt(0))if(ht=j(ct.charAt(0))+(parseInt(ct.charAt(1))+2),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var st=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,st)||p.push(ht)}}else p.push(ht);if(parseInt(ct.charAt(1))>2&&"h"!=ct.charAt(0))if(ht=m(ct.charAt(0))+(parseInt(ct.charAt(1))-2),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var nt=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,nt)||p.push(ht)}}else p.push(ht);if(parseInt(ct.charAt(1))>2&&"a"!=ct.charAt(0))if(ht=j(ct.charAt(0))+(parseInt(ct.charAt(1))-2),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var ot=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,ot)||p.push(ht)}}else p.push(ht);if("8"!=ct.charAt(1)&&"h"!=ct.charAt(0)&&"g"!=ct.charAt(0))if(ht=m(m(ct.charAt(0)))+(parseInt(ct.charAt(1))+1),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var At=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,At)||p.push(ht)}}else p.push(ht);if("8"!=ct.charAt(1)&&"a"!=ct.charAt(0)&&"b"!=ct.charAt(0))if(ht=j(j(ct.charAt(0)))+(parseInt(ct.charAt(1))+1),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var pt=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,pt)||p.push(ht)}}else p.push(ht);if("1"!=ct.charAt(1)&&"h"!=ct.charAt(0)&&"g"!=ct.charAt(0))if(ht=m(m(ct.charAt(0)))+(parseInt(ct.charAt(1))-1),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var ut=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,ut)||p.push(ht)}}else p.push(ht);if("1"!=ct.charAt(1)&&"a"!=ct.charAt(0)&&"b"!=ct.charAt(0))if(ht=j(j(ct.charAt(0)))+(parseInt(ct.charAt(1))-1),""!=c[ht]||u("knights",ct,ht,r)){if(c[ht].charAt(0)!=e.charAt(0)&&""!=c[ht]){var lt=P(r,q(c[ht].charAt(1)),ht);u("knights",ct,ht,lt)||p.push(ht)}}else p.push(ht);A.knights[ct]=Object(n.a)(p)}for(var ft in a.queens){p=[];for(var bt=!1,vt=1;!bt&&parseInt(ft.charAt(1))+vt<=8;){var kt=ft.charAt(0)+(parseInt(ft.charAt(1))+vt);if(""!=c[kt]||u("queens",ft,kt,r)){if(c[kt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[kt]){var dt=P(r,q(c[kt].charAt(1)),kt);u("queens",ft,kt,dt)||p.push(kt),bt=!0}}else p.push(kt);vt++}for(bt=!1,vt=-1;!bt&&parseInt(ft.charAt(1))+vt>=1;){var gt=ft.charAt(0)+(parseInt(ft.charAt(1))+vt);if(""!=c[gt]||u("queens",ft,gt,r)){if(c[gt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[gt]){var Ot=P(r,q(c[gt].charAt(1)),gt);u("queens",ft,gt,Ot)||p.push(gt),bt=!0}}else p.push(gt);vt--}bt=!1;for(var mt=j(ft.charAt(0));!bt&&"a"!=ft.charAt(0);){var jt=mt+parseInt(ft.charAt(1));if(""!=c[jt]||u("queens",ft,jt,r)){if(c[jt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[jt]){var wt=P(r,q(c[jt].charAt(1)),jt);u("queens",ft,jt,wt)||p.push(jt),bt=!0}}else p.push(jt);"a"==mt?bt=!0:mt=j(mt)}bt=!1;for(var It=m(ft.charAt(0));!bt&&"h"!=ft.charAt(0);){var xt=It+parseInt(ft.charAt(1));if(""!=c[xt]||u("queens",ft,xt,r)){if(c[xt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[xt]){var qt=P(r,q(c[xt].charAt(1)),xt);u("queens",ft,xt,qt)||p.push(xt),bt=!0}}else p.push(xt);"h"==It?bt=!0:It=m(It)}for(bt=!1,vt=1,It=m(ft.charAt(0));!bt&&parseInt(ft.charAt(1))+vt<=8&&"h"!=ft.charAt(0);){var yt=It+(parseInt(ft.charAt(1))+vt);if(""!=c[yt]||u("queens",ft,yt,r)){if(c[yt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[yt]){var Pt=P(r,q(c[yt].charAt(1)),yt);u("queens",ft,yt,Pt)||p.push(yt),bt=!0}}else p.push(yt);"h"==It?bt=!0:(vt++,It=m(It))}for(bt=!1,vt=1,mt=j(ft.charAt(0));!bt&&parseInt(ft.charAt(1))+vt<=8&&"a"!=ft.charAt(0);){var Ct=mt+(parseInt(ft.charAt(1))+vt);if(""!=c[Ct]||u("queens",ft,Ct,r)){if(c[Ct].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[Ct]){var Nt=P(r,q(c[Ct].charAt(1)),Ct);u("queens",ft,Ct,Nt)||p.push(Ct),bt=!0}}else p.push(Ct);"a"==mt?bt=!0:(vt++,mt=j(mt))}for(bt=!1,vt=-1,It=m(ft.charAt(0));!bt&&parseInt(ft.charAt(1))+vt>=1&&"h"!=ft.charAt(0);){var St=It+(parseInt(ft.charAt(1))+vt);if(""!=c[St]||u("queens",ft,St,r)){if(c[St].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[St]){var Ht=P(r,q(c[St].charAt(1)),St);u("queens",ft,St,Ht)||p.push(St),bt=!0}}else p.push(St);"h"==It?bt=!0:(vt--,It=m(It))}for(bt=!1,vt=-1,mt=j(ft.charAt(0));!bt&&parseInt(ft.charAt(1))+vt>=1&&"a"!=ft.charAt(0);){var Mt=mt+(parseInt(ft.charAt(1))+vt);if(""!=c[Mt]||u("queens",ft,Mt,r)){if(c[Mt].charAt(0)==e.charAt(0))bt=!0;else if(""!=c[Mt]){var Bt=P(r,q(c[Mt].charAt(1)),Mt);u("queens",ft,Mt,Bt)||p.push(Mt),bt=!0}}else p.push(Mt);"a"==mt?bt=!0:(vt--,mt=j(mt))}A.queens[ft]=Object(n.a)(p)}if(0==Object.keys(a.king).length)return A;var Et=Object.keys(a.king)[0];p=[];var Ft=Et.charAt(0)+(parseInt(Et.charAt(1))+1);if(parseInt(Et.charAt(1))<8&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))<8&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Qt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Qt)||p.push(Ft)}if(Ft=Et.charAt(0)+(parseInt(Et.charAt(1))-1),parseInt(Et.charAt(1))>1&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))>1&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Rt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Rt)||p.push(Ft)}if(Ft=j(Et.charAt(0))+Et.charAt(1),"a"==Et.charAt(0)||""!=c[Ft]||u("king",Et,Ft,r)){if("a"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Tt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Tt)||p.push(Ft)}}else p.push(Ft);if(Ft=m(Et.charAt(0))+Et.charAt(1),"h"==Et.charAt(0)||""!=c[Ft]||u("king",Et,Ft,r)){if("h"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var _t=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,_t)||p.push(Ft)}}else p.push(Ft);if(Ft=m(Et.charAt(0))+(parseInt(Et.charAt(1))+1),parseInt(Et.charAt(1))<8&&"h"!=Et.charAt(0)&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))<8&&"h"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Lt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Lt)||p.push(Ft)}if(Ft=j(Et.charAt(0))+(parseInt(Et.charAt(1))+1),parseInt(Et.charAt(1))<8&&"a"!=Et.charAt(0)&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))<8&&"a"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Jt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Jt)||p.push(Ft)}if(Ft=m(Et.charAt(0))+(parseInt(Et.charAt(1))-1),parseInt(Et.charAt(1))>1&&"h"!=Et.charAt(0)&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))>1&&"h"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Kt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Kt)||p.push(Ft)}if(Ft=j(Et.charAt(0))+(parseInt(Et.charAt(1))-1),parseInt(Et.charAt(1))>1&&"a"!=Et.charAt(0)&&""==c[Ft]&&!u("king",Et,Ft,r))p.push(Ft);else if(parseInt(Et.charAt(1))>1&&"a"!=Et.charAt(0)&&c[Ft].charAt(0)!=e.charAt(0)&&""!=c[Ft]){var Dt=P(r,q(c[Ft].charAt(1)),Ft);u("king",Et,Ft,Dt)||p.push(Ft)}return u("king",Et,Et,r)||("white"==e&&g[0]&&(""!=c.f1||""!=c.g1||u("king",Et,"f1",r)||u("king",Et,"g1",r)||p.push("O-O")),"white"==e&&g[1]&&(""!=c.d1||""!=c.c1||""!=c.b1||u("king",Et,"d1",r)||u("king",Et,"c1",r)||p.push("O-O-O")),"black"==e&&O[0]&&(""!=c.f8||""!=c.g8||u("king",Et,"f8",r)||u("king",Et,"g8",r)||p.push("O-O")),"black"==e&&O[1]&&(""!=c.d8||""!=c.c8||""!=c.b8||u("king",Et,"d8",r)||u("king",Et,"c8",r)||p.push("O-O-O"))),A.king[Et]=Object(n.a)(p),A},H=function(t,a){I=S(I,x,"white",t,a),x=S(x,I,"black",t,a)},M=function(t,a,r,e,c){var h,i=Object(n.a)(c),s=F(t,a,r,e);return h="O-O"!=s&&"O-O-O"!=s?{initialPos:b,destination:a,piece:f,name:s}:{initialPos:b,destination:s,name:s},i.push(h),i},B=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="";return""!=r&&(e+="="+r.toUpperCase()),N(a,t)?e+="#":C(a,t)&&(e+="+"),e},E=function(t,a,r){var e=Object(n.a)(t);e.length>0&&(e[e.length-1].name+=r,a(e))},F=function(t,a,r,e){var c;switch(c="white"==e?"black":"white",f.charAt(1)){case"p":return b.charAt(0)!=a.charAt(0)?"".concat(b.charAt(0),"x").concat(a):a;case"n":for(var h in r.knights)if(h!=b&&r.knights[h].includes(a))return h.charAt(0)==b.charAt(0)?t[a].charAt(0)==c.charAt(0)?"N".concat(b.charAt(1),"x").concat(a):"N".concat(b.charAt(1)).concat(a):t[a].charAt(0)==c.charAt(0)?"N".concat(b.charAt(0),"x").concat(a):"N".concat(b.charAt(0)).concat(a);return t[a].charAt(0)==c.charAt(0)?"Nx".concat(a):"N".concat(a);case"b":for(var i in r.bishops)if(i!=b&&r.bishops[i].includes(a))return i.charAt(0)==b.charAt(0)?t[a].charAt(0)==c.charAt(0)?"B".concat(b.charAt(1),"x").concat(a):"B".concat(b.charAt(1)).concat(a):t[a].charAt(0)==c.charAt(0)?"B".concat(b.charAt(0),"x").concat(a):"B".concat(b.charAt(0)).concat(a);return t[a].charAt(0)==c.charAt(0)?"Bx".concat(a):"B".concat(a);case"r":for(var s in"white"==e&&g[0]&&"h1"==b?g[0]=!1:"white"==e&&g[1]&&"a1"==b?g[1]=!1:"black"==e&&O[0]&&"h8"==b?O[0]=!1:"black"==e&&O[1]&&"a8"==b&&(O[1]=!1),r.rooks)if(s!=b&&r.rooks[s].includes(a))return s.charAt(0)==b.charAt(0)?t[a].charAt(0)==c.charAt(0)?"R".concat(b.charAt(1),"x").concat(a):"R".concat(b.charAt(1)).concat(a):t[a].charAt(0)==c.charAt(0)?"R".concat(b.charAt(0),"x").concat(a):"R".concat(b.charAt(0)).concat(a);return t[a].charAt(0)==c.charAt(0)?"Rx".concat(a):"R".concat(a);case"q":for(var n in r.queens)if(n!=b&&r.queens[n].includes(a))return n.charAt(0)==b.charAt(0)?t[a].charAt(0)==c.charAt(0)?"Q".concat(b.charAt(1),"x").concat(a):"Q".concat(b.charAt(1)).concat(a):t[a].charAt(0)==c.charAt(0)?"Q".concat(b.charAt(0),"x").concat(a):"Q".concat(b.charAt(0)).concat(a);return t[a].charAt(0)==c.charAt(0)?"Qx".concat(a):"Q".concat(a);case"k":return"white"==e&&(g[0]||g[1])?g=[!1,!1]:"black"==e&&(O[0]||O[1])&&(O=[!1,!1]),"e"!=b.charAt(0)||"g"!=a.charAt(0)&&"h"!=a.charAt(0)?"e"!=b.charAt(0)||"c"!=a.charAt(0)&&"a"!=a.charAt(0)?t[a].charAt(0)==c.charAt(0)?"Kx".concat(a):"K".concat(a):"O-O-O":"O-O"}},Q=function(t){var a=Object(s.a)(t,17),r=a[0],e=a[1],c=a[2],h=a[3],i=a[4],n=a[5],A=a[6],p=a[7],u=a[8],l=a[9],w=a[10],y=a[11],P=a[12],C=a[13],N=a[14],S=a[15],F=a[16];if("enabled"!=u){var Q,R,T,_=function(){"white"==e?(Q=I,R=x,T="black"):(Q=x,R=I,T="white")};_();var L=Object(o.a)({},i),J=function(){L[b]=L[b].substring(0,L[b].indexOf("-highlighted")),n(L),f="",b=""},K=function(){f=r,b=h,L[h]+="-highlighted",n(L)},D=function(){if("p"==f.charAt(1)){if("white"==e&&"8"==h.charAt(1))return!0;if("black"==e&&"1"==h.charAt(1))return!0}return!1};if("k"==f.charAt(1)){var U=Object.keys(Q.king)[0];if("white"==e){if(Q.king[U].includes("O-O")&&("g1"==h||"h1"==h)){var z=Object(o.a)({},A);z[b]="",z.h1="",z.g1=f,z.f1="wr",delete Q.king[b],Q.king.g1=[],delete Q.rooks.h1,Q.rooks.f1=[],p(z);var G=M(A,h,Q,e,y);return H(z,G),_(),E(G,P,B(Q,R)),c(T),J(),S.play(),void(g=[!1,!1])}if(Q.king[U].includes("O-O-O")&&("c1"==h||"a1"==h)){var V=Object(o.a)({},A);V[b]="",V.a1="",V.c1=f,V.d1="wr",delete Q.king[b],Q.king.c1=[],delete Q.rooks.a1,Q.rooks.d1=[],p(V);var W=M(A,h,Q,e,y);return H(V,W),_(),E(W,P,B(Q,R)),c(T),J(),S.play(),void(g=[!1,!1])}}else{if(Q.king[U].includes("O-O")&&("g8"==h||"h8"==h)){var X=Object(o.a)({},A);X[b]="",X.h8="",X.g8=f,X.f8="br",delete Q.king[b],Q.king.g8=[],delete Q.rooks.h8,Q.rooks.f8=[],p(X);var Y=M(A,h,Q,e,y);return H(X,Y),_(),E(Y,P,B(Q,R)),c(T),J(),S.play(),void(O=[!1,!1])}if(Q.king[U].includes("O-O-O")&&("c8"==h||"a8"==h)){var Z=Object(o.a)({},A);Z[b]="",Z.a8="",Z.c8=f,Z.d8="br",delete Q.king[b],Q.king.c8=[],delete Q.rooks.a8,Q.rooks.d8=[],p(Z);var $=M(A,h,Q,e,y);return H(Z,$),_(),E($,P,B(Q,R)),c(T),J(),S.play(),void(O=[!1,!1])}}}if("p"==f.charAt(1))if(Q.pawns[b].includes("x->")){var tt=1;if("b"==f.charAt(0)&&(tt=-1),h==m(b.charAt(0))+(parseInt(b.charAt(1))+tt)){var at=Object(o.a)({},A);at[b]="",at[h]=f;var rt=h.charAt(0)+(parseInt(h.charAt(1))-tt);if(at[rt]="","white"==e){var et=Object(o.a)({},C);et.white.push("p"),N(et)}else{var ct=Object(o.a)({},C);ct.black.push("p"),N(ct)}delete Q[q(f.charAt(1))][b],Q[q(f.charAt(1))][h]=[],delete R[q(A[rt].charAt(1))][rt],p(at);var ht=M(A,h,Q,e,y);return H(at,ht),_(),E(ht,P,B(Q,R)),c(T),J(),void F.play()}}else if(Q.pawns[b].includes("<-x")){var it=1;if("b"==f.charAt(0)&&(it=-1),h==j(b.charAt(0))+(parseInt(b.charAt(1))+it)){var st=Object(o.a)({},A);st[b]="",st[h]=f;var nt=h.charAt(0)+(parseInt(h.charAt(1))-it);if(st[nt]="","white"==e){var ot=Object(o.a)({},C);ot.white.push("p"),N(ot)}else{var At=Object(o.a)({},C);At.black.push("p"),N(At)}delete Q[q(f.charAt(1))][b],Q[q(f.charAt(1))][h]=[],delete R[q(A[nt].charAt(1))][nt],p(st);var pt=M(A,h,Q,e,y);return H(st,pt),_(),E(pt,P,B(Q,R)),c(T),J(),void F.play()}}if(""==r&&""!=f){if(Q[q(f.charAt(1))][b].includes(h)){if(D())return v=!1,k=h,d="",w(e.charAt(0)),void l("enabled");var ut=Object(o.a)({},A);ut[b]="",ut[h]=f,delete Q[q(f.charAt(1))][b],Q[q(f.charAt(1))][h]=[],p(ut);var lt=M(A,h,Q,e,y);H(ut,lt),_(),E(lt,P,B(Q,R)),c(T),S.play()}J()}else if(r.charAt(0)==T.charAt(0)&&""!=f){if(Q[q(f.charAt(1))][b].includes(h)){if(D())return v=!0,k=h,d=r,w(e.charAt(0)),void l("enabled");var ft=Object(o.a)({},A);if(ft[b]="",ft[h]=f,"white"==e){var bt=Object(o.a)({},C);bt.white.push(A[h].charAt(1)),N(bt)}else{var vt=Object(o.a)({},C);vt.black.push(A[h].charAt(1)),N(vt)}delete Q[q(f.charAt(1))][b],Q[q(f.charAt(1))][h]=[],delete R[q(r.charAt(1))][h],p(ft);var kt=M(A,h,Q,e,y);H(ft,kt),_(),E(kt,P,B(Q,R)),c(T),F.play()}J()}else("white"==e&&"w"==r.charAt(0)||"black"==e&&"b"==r.charAt(0))&&""==f?K():("white"==e&&"w"==r.charAt(0)||"black"==e&&"b"==r.charAt(0))&&""!=f&&b==h?J():("white"==e&&"w"==r.charAt(0)||"black"==e&&"b"==r.charAt(0))&&""!=f&&""!=r&&b!=h&&(J(),K())}},R=function(t){for(var a,r,c,h,i=[],n=Object(e.useState)("white"),g=Object(s.a)(n,2),O=g[0],j=g[1],y=Object(e.useState)(new w(u)),P=Object(s.a)(y,1)[0],C=Object(e.useState)(new w(l)),N=Object(s.a)(C,1)[0],S=!0,F={},R=0;R<8;R++){c="a";for(var T=S,_=0;_<8;_++)r=T?"light-square":"dark-square",F[c+(8-R)]=r,c=m(c),T=!T;S=!S}var L=Object(e.useState)(F),J=Object(s.a)(L,2),K=J[0],D=J[1],U=Object(e.useState)({a1:"wr",b1:"wn",c1:"wb",d1:"wq",e1:"wk",f1:"wb",g1:"wn",h1:"wr",a2:"wp",b2:"wp",c2:"wp",d2:"wp",e2:"wp",f2:"wp",g2:"wp",h2:"wp",a3:"",b3:"",c3:"",d3:"",e3:"",f3:"",g3:"",h3:"",a4:"",b4:"",c4:"",d4:"",e4:"",f4:"",g4:"",h4:"",a5:"",b5:"",c5:"",d5:"",e5:"",f5:"",g5:"",h5:"",a6:"",b6:"",c6:"",d6:"",e6:"",f6:"",g6:"",h6:"",a7:"bp",b7:"bp",c7:"bp",d7:"bp",e7:"bp",f7:"bp",g7:"bp",h7:"bp",a8:"br",b8:"bn",c8:"bb",d8:"bq",e8:"bk",f8:"bb",g8:"bn",h8:"br"}),z=Object(s.a)(U,2),G=z[0],V=z[1];H(G,t.moveHistory),Object(e.useEffect)((function(){if(""!=t.promotionPiece){var a,r,e,c=Object(o.a)({},G),h=t.promotionPiece;if("white"==O?(a=I,r=x,e="black"):(a=x,r=I,e="white"),v){if(c[b]="",c[k]=O.charAt(0)+t.promotionPiece,"white"==O){var i=Object(o.a)({},t.material);i.white.push(G[k].charAt(1)),i.white.push(t.promotionPiece),t.setMaterial(i)}else{var s=Object(o.a)({},t.material);s.black.push(G[k].charAt(1)),s.white.push(t.promotionPiece),t.setMaterial(s)}delete a[q(f.charAt(1))][b],a[q(t.promotionPiece)][k]=[],delete r[q(d.charAt(1))][k],N.play()}else{if(c[b]="",c[k]=O.charAt(0)+t.promotionPiece,"white"==O){var n=Object(o.a)({},t.material);n.white.push(t.promotionPiece),t.setMaterial(n)}else{var A=Object(o.a)({},t.material);A.white.push(t.promotionPiece),t.setMaterial(A)}delete a[q(f.charAt(1))][b],a[q(t.promotionPiece)][k]=[],P.play()}t.setPromotion("disabled"),t.setPromotionPiece("");var p=Object(o.a)({},K);p[b]=p[b].substring(0,p[b].indexOf("-highlighted")),D(p),V(c);var u=M(G,k,a,O,t.moveHistory);H(c,u),"white"==O?(a=I,r=x,e="black"):(a=x,r=I,e="white"),E(u,t.setMoveHistory,B(a,r,h)),j(e),f="",b=""}}),[t.promotionPiece]);for(var W=0;W<8;W++){a=[],c="a";for(var X=0;X<8;X++)h=G[c+(8-W)],a.push(Object(A.jsx)(p,{squareTypes:K,squareLoc:c+(8-W),backgroundImage:h,onClickFunction:Q,onClickParameters:[h,O,j,c+(8-W),K,D,G,V,t.promotion,t.setPromotion,t.setPromotionColour,t.moveHistory,t.setMoveHistory,t.material,t.setMaterial,P,N]},c+(8-W))),c=m(c);i.push(Object(A.jsx)("div",{className:"board-row",children:a},8-W))}return Object(A.jsx)("div",{className:"board",children:i})},T=function(t){return Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{className:"square light-square ".concat(t.promotionColour,"q promotion ")+t.promotion,onClick:function(){t.setPromotionPiece("q"),t.setPromotion("disabled")}}),Object(A.jsx)("button",{className:"square light-square ".concat(t.promotionColour,"r promotion ")+t.promotion,onClick:function(){t.setPromotionPiece("r"),t.setPromotion("disabled")}}),Object(A.jsx)("button",{className:"square light-square ".concat(t.promotionColour,"n promotion ")+t.promotion,onClick:function(){t.setPromotionPiece("n"),t.setPromotion("disabled")}}),Object(A.jsx)("button",{className:"square light-square ".concat(t.promotionColour,"b promotion ")+t.promotion,onClick:function(){t.setPromotionPiece("b"),t.setPromotion("disabled")}})]})},_=function(t){return Object(e.useEffect)((function(){var a="";if(t.moveHistory.length>0){var r=t.moveHistory.length-1;a=r%2==0?"".concat(r/2+1,".").concat(t.moveHistory[r].name):" ".concat(t.moveHistory[r].name,"</br>")}document.getElementById("move-history").innerHTML+=a,document.getElementById("move-history-wrapper").scrollTop=document.getElementById("move-history-wrapper").scrollHeight}),[t.moveHistory]),Object(A.jsx)("div",{className:"auto-scroll moveHistory",id:"move-history-wrapper",children:Object(A.jsx)("p",{id:"move-history"})})},L=r(8),J=function(t){var a=Object(e.useState)({white:" ",black:" "}),r=Object(s.a)(a,2),c=r[0],h=r[1],i=Object(e.useState)({white:[],black:[]}),n=Object(s.a)(i,2),o=n[0],p=n[1];return Object(e.useEffect)((function(){var a,r={white:{p:0,n:0,b:0,r:0,q:0},black:{p:0,n:0,b:0,r:0,q:0}},e=Object(L.a)(t.material.white);try{for(e.s();!(a=e.n()).done;){var c=a.value;r.white[c]++}}catch(k){e.e(k)}finally{e.f()}var i,s=Object(L.a)(t.material.black);try{for(s.s();!(i=s.n()).done;){var n=i.value;r.black[n]++}}catch(k){s.e(k)}finally{s.f()}var o=r.white.p+3*r.white.n+3*r.white.b+5*r.white.r+9*r.white.q,u=r.black.p+3*r.black.n+3*r.black.b+5*r.black.r+9*r.black.q;h(o>u?{white:"+".concat(o-u),black:" "}:u>o?{white:" ",black:"+".concat(u-o)}:{white:" ",black:" "});var l={white:[],black:[]};for(var f in r.white)if(r.white[f]>r.black[f])for(var b=0;b<r.white[f]-r.black[f];b++)l.white.push(Object(A.jsx)("div",{className:"icon w"+f},f+b));else if(r.black[f]>r.white[f])for(var v=0;v<r.black[f]-r.white[f];v++)l.black.push(Object(A.jsx)("div",{className:"icon w"+f},f+v));p(l)}),[t.material]),Object(A.jsxs)("div",{className:"material",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"icon-container",children:o.black})," ",Object(A.jsx)("div",{className:"material-text",children:c.black})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"icon-container",children:o.white})," ",Object(A.jsx)("div",{className:"material-text",children:c.white})]})]})};var K=function(){var t=Object(e.useState)("disabled"),a=Object(s.a)(t,2),r=a[0],c=a[1],h=Object(e.useState)("w"),i=Object(s.a)(h,2),n=i[0],o=i[1],p=Object(e.useState)(""),u=Object(s.a)(p,2),l=u[0],f=u[1],b=Object(e.useState)([]),v=Object(s.a)(b,2),k=v[0],d=v[1],g=Object(e.useState)({white:[],black:[]}),O=Object(s.a)(g,2),m=O[0],j=O[1];return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(_,{moveHistory:k}),Object(A.jsx)(R,{promotion:r,setPromotion:c,promotionPiece:l,setPromotionPiece:f,promotionColour:n,setPromotionColour:o,moveHistory:k,setMoveHistory:d,material:m,setMaterial:j}),Object(A.jsx)(T,{promotion:r,setPromotion:c,promotionPiece:l,setPromotionPiece:f,promotionColour:n,setPromotionColour:o}),Object(A.jsx)(J,{material:m})]})},D=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,18)).then((function(a){var r=a.getCLS,e=a.getFID,c=a.getFCP,h=a.getLCP,i=a.getTTFB;r(t),e(t),c(t),h(t),i(t)}))};i.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(K,{})}),document.getElementById("root")),D()}},[[17,1,2]]]);
//# sourceMappingURL=main.7aea6fc8.chunk.js.map